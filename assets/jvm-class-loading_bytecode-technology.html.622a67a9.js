import{r as t,c as o,a as s,d as e,F as l,b as p,e as n,o as c}from"./app.9da19d67.js";import{_ as r}from"./plugin-vue_export-helper.21dcd24c.js";var i="/blog/assets/3-1.92a52ac2.png",u="/blog/assets/jvm-class-loading&bytecode-technology-1649901838160.2f0d199a.png",d="/blog/assets/3-2.853d08e9.png",b="/blog/assets/3-3.33573629.png";const m={},_=p('<h2 id="jvm\u7C7B\u52A0\u8F7D\u4E0E\u5B57\u8282\u7801\u6280\u672F-\u5185\u5B58\u6A21\u578B" tabindex="-1"><a class="header-anchor" href="#jvm\u7C7B\u52A0\u8F7D\u4E0E\u5B57\u8282\u7801\u6280\u672F-\u5185\u5B58\u6A21\u578B" aria-hidden="true">#</a> JVM\u7C7B\u52A0\u8F7D\u4E0E\u5B57\u8282\u7801\u6280\u672F&amp;\u5185\u5B58\u6A21\u578B</h2><h2 id="class-load" tabindex="-1"><a class="header-anchor" href="#class-load" aria-hidden="true">#</a> class load</h2><p>\u7C7B\u52A0\u8F7D\u4E0E\u5B57\u8282\u7801\u6280\u672F</p><p><img src="'+i+'" alt="\u7C7B\u52A0\u8F7D\u4E0E\u5B57\u8282\u7801\u6280\u672F" loading="lazy"></p><p>1\u3001\u7C7B\u6587\u4EF6\u7ED3\u6784</p><p>\u901A\u8FC7 javac \u7C7B\u540D.java \u7F16\u8BD1 java \u6587\u4EF6\u540E\uFF0C\u4F1A\u751F\u6210\u4E00\u4E2A .class \u7684\u6587\u4EF6\uFF01\u4E0B\u56FE\u662F\u5B57\u8282\u7801\u6587\u4EF6\uFF1A</p><p><img src="'+u+`" alt="\u5B57\u8282\u7801\u6587\u4EF6" loading="lazy"></p><p>\u636E JVM \u89C4\u8303\uFF0C\u7C7B\u6587\u4EF6\u7ED3\u6784\u5982\u4E0B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>u4       magic
u2             minor_version;
u2             major_version;
u2             constant_pool_count;
cp_info        constant_pool[constant_pool_count-1];
u2             access_flags;
u2             this_class;
u2             super_class;
u2             interfaces_count;
u2             interfaces[interfaces_count];
u2             fields_count;
field_info     fields[fields_count];
u2             methods_count;
method_info    methods[methods_count];
u2             attributes_count;
attribute_info attributes[attributes_count];
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>1\uFF09\u9B54\u6570</p><p>U4 magic \u5BF9\u5E94\u5B57\u8282\u7801\u6587\u4EF6\u7684 0~3 \u4E2A\u5B57\u8282 0000000 ca fe ba be 00 00 00 34 00 23 0a 00 06 00 15 09 ca fe ba be\uFF1A\u610F\u601D\u662F .class\u6587\u4EF6\uFF0C\u4E0D\u540C\u7684\u4E1C\u897F\u6709\u4E0D\u540C\u7684\u9B54\u6570\uFF0C\u6BD4\u5982jpg\u3001PNG \u56FE\u7247\u7B49\uFF01</p><p>2\uFF09\u7248\u672C</p><p>U2 minor_version; u2 major_version; 0000000 ca fe ba be 00 00 00 34 00 23 0a 00 06 00 15 09 00 00 00 34\uFF1A34H(16 \u8FDB\u5236) = 52(10 \u8FDB\u5236)\uFF0C\u4EE3\u8868 JDK8</p><p>3\uFF09\u5E38\u91CF\u6C60</p><p>\u5E38\u91CF\u6C60\u5728java\u7528\u4E8E\u4FDD\u5B58\u5728\u7F16\u8BD1\u671F\u5DF2\u786E\u5B9A\u7684\uFF0C\u5DF2\u7F16\u8BD1\u7684class\u6587\u4EF6\u4E2D\u7684\u4E00\u4EFD\u6570\u636E\u3002\u5B83\u5305\u62EC\u4E86\u5173\u4E8E\u7C7B\uFF0C\u65B9\u6CD5\uFF0C\u63A5\u53E3\u7B49\u4E2D\u7684\u5E38\u91CF\uFF0C\u4E5F\u5305\u62EC\u5B57\u7B26\u4E32\u5E38\u91CF\uFF0C\u5982String s = &quot;java&quot;\u8FD9\u79CD\u7533\u660E\u65B9\u5F0F\uFF1B\u5F53\u7136\u4E5F\u53EF\u6269\u5145\uFF0C\u6267\u884C\u5668\u4EA7\u751F\u7684\u5E38\u91CF\u4E5F\u4F1A\u653E\u5165\u5E38\u91CF\u6C60\uFF0C\u6545\u8BA4\u4E3A\u5E38\u91CF\u6C60\u662FJVM\u7684\u4E00\u5757\u7279\u6B8A\u7684\u5185\u5B58\u7A7A\u95F4\u3002</p>`,15),h={href:"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.5.5",target:"_blank",rel:"noopener noreferrer"},k=n("\u53C2\u8003\u6587\u6863"),g=s("h2",{id:"_2\u3001\u5B57\u8282\u7801\u6307\u4EE4",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_2\u3001\u5B57\u8282\u7801\u6307\u4EE4","aria-hidden":"true"},"#"),n(" 2\u3001\u5B57\u8282\u7801\u6307\u4EE4")],-1),v=s("p",null,"\u53EF\u53C2\u8003\uFF1A",-1),f={href:"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-6.html#jvms-6.5",target:"_blank",rel:"noopener noreferrer"},j=n("\u5B57\u8282\u7801\u6307\u4EE4"),y=p(`<h3 id="_1\u3001javap-\u5DE5\u5177" tabindex="-1"><a class="header-anchor" href="#_1\u3001javap-\u5DE5\u5177" aria-hidden="true">#</a> 1\u3001javap \u5DE5\u5177</h3><p>Java\u4E2D\u63D0\u4F9B\u4E86<code>javap</code>\u5DE5\u5177\u6765\u53CD\u7F16\u8BD1 class \u6587\u4EF6</p><h3 id="_2-\u56FE\u89E3\u65B9\u6CD5\u6267\u884C\u6D41\u7A0B" tabindex="-1"><a class="header-anchor" href="#_2-\u56FE\u89E3\u65B9\u6CD5\u6267\u884C\u6D41\u7A0B" aria-hidden="true">#</a> 2\uFF09\u56FE\u89E3\u65B9\u6CD5\u6267\u884C\u6D41\u7A0B</h3><p>\u4EE3\u7801</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo3_1</span> <span class="token punctuation">{</span>
 <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token class-name">Short</span><span class="token punctuation">.</span>MAX_VALUE <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">int</span> c <span class="token operator">=</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>\u5E38\u91CF\u6C60\u8F7D\u5165\u8FD0\u884C\u65F6\u5E38\u91CF\u6C60</p><p>\u5E38\u91CF\u6C60\u4E5F\u5C5E\u4E8E\u65B9\u6CD5\u533A\uFF0C\u53EA\u4E0D\u8FC7\u8FD9\u91CC\u5355\u72EC\u63D0\u51FA\u6765\u4E86</p><p><img src="`+d+'" alt="" loading="lazy"></p><p>\u65B9\u6CD5\u5B57\u8282\u7801\u8F7D\u5165\u65B9\u6CD5\u533A</p><p>(stack=2\uFF0Clocals=4) \u5BF9\u5E94\u64CD\u4F5C\u6570\u6808\u6709 2 \u4E2A\u7A7A\u95F4(\u6BCF\u4E2A\u7A7A\u95F4 4 \u4E2A\u5B57\u8282)\uFF0C\u5C40\u90E8\u53D8\u91CF\u8868\u4E2D\u6709 4 \u4E2A\u69FD\u4F4D\u3002</p><p><img src="'+b+'" alt="" loading="lazy"></p><p>\u6267\u884C\u5F15\u64CE\u5F00\u59CB\u6267\u884C\u5B57\u8282\u7801</p><p>Bipush 10</p><ul><li>\u5C06\u4E00\u4E2A byte \u538B\u5165\u64CD\u4F5C\u6570\u6808(\u5176\u957F\u5EA6\u4F1A\u8865\u9F50 4 \u4E2A\u5B57\u8282)\uFF0C\u7C7B\u4F3C\u7684\u6307\u4EE4\u8FD8\u6709 <ul><li>sipush \u5C06\u4E00\u4E2A short \u538B\u5165\u64CD\u4F5C\u6570\u6808(\u5176\u957F\u5EA6\u4F1A\u8865\u9F50 4 \u4E2A\u5B57\u8282)</li><li>ldc \u5C06\u4E00\u4E2A int \u538B\u5165\u64CD\u4F5C\u6570\u6808</li><li>ldc2_w \u5C06\u4E00\u4E2A long \u538B\u5165\u64CD\u4F5C\u6570\u6808\uFF08<strong>\u5206\u4E24\u6B21\u538B\u5165</strong>\uFF0C\u56E0\u4E3A long \u662F 8 \u4E2A\u5B57\u8282\uFF09</li><li>\u8FD9\u91CC\u5C0F\u7684\u6570\u5B57\u90FD\u662F\u548C\u5B57\u8282\u7801\u6307\u4EE4\u5B58\u5728\u4E00\u8D77\uFF0C<strong>\u8D85\u8FC7 short \u8303\u56F4\u7684\u6570\u5B57\u5B58\u5165\u4E86\u5E38\u91CF\u6C60</strong></li></ul></li></ul><p>Istore 1</p><p>\u5C06\u64CD\u4F5C\u6570\u6808\u6808\u9876\u5143\u7D20\u5F39\u51FA\uFF0C\u653E\u5165\u5C40\u90E8\u53D8\u91CF\u8868\u7684 slot 1 \u4E2D</p><p>\u5BF9\u5E94\u4EE3\u7801\u4E2D\u7684 <code>a = 10</code></p><p>3\uFF09\u901A\u8FC7\u5B57\u8282\u7801\u6307\u4EE4\u5206\u6790\u95EE\u9898</p><p>\u4EE3\u7801</p>',19),x={href:"https://blog.csdn.net/weixin_50280576/article/details/113784268",target:"_blank",rel:"noopener noreferrer"},w=n("csdn");function V(J,N){const a=t("ExternalLinkIcon");return c(),o(l,null,[_,s("p",null,[s("a",h,[k,e(a)])]),g,v,s("p",null,[s("a",f,[j,e(a)])]),y,s("p",null,[s("a",x,[w,e(a)])])],64)}var B=r(m,[["render",V],["__file","jvm-class-loading&bytecode-technology.html.vue"]]);export{B as default};
