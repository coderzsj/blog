(window.webpackJsonp=window.webpackJsonp||[]).push([[111],{493:function(s,t){s.exports="data:image/png;base64,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"},605:function(s,t,a){"use strict";a.r(t);var n=a(1),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"threadpool"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#threadpool"}},[s._v("#")]),s._v(" threadpool")]),s._v(" "),n("h1",{attrs:{id:"线程池-threadpoolexecutor-源码分析"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#线程池-threadpoolexecutor-源码分析"}},[s._v("#")]),s._v(" 线程池 ThreadPoolExecutor 源码分析")]),s._v(" "),n("h2",{attrs:{id:"_1、构造方法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1、构造方法"}},[s._v("#")]),s._v(" 1、构造方法")]),s._v(" "),n("p",[s._v("构造方法中有 4 个方法，本质上都是调用的下面这个构造方法：")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ThreadPoolExecutor")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AbstractExecutorService")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ThreadPoolExecutor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" corePoolSize"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" maximumPoolSize"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("long")]),s._v(" keepAliveTime"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TimeUnit")]),s._v(" unit"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BlockingQueue")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Runnable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" workQueue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ThreadFactory")]),s._v(" threadFactory"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RejectedExecutionHandler")]),s._v(" handler"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n     "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("corePoolSize "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v("\n      maximumPoolSize "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v("\n      maximumPoolSize "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" corePoolSize "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v("\n      keepAliveTime "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throw")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IllegalArgumentException")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n     "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("workQueue "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" threadFactory "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" handler "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throw")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("NullPointerException")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n     "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("acc "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getSecurityManager")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v("\n       "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n       "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AccessController")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getContext")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n     "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("corePoolSize "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" corePoolSize"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n     "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("maximumPoolSize "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" maximumPoolSize"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n     "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("workQueue "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" workQueue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n     "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("keepAliveTime "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" unit"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("toNanos")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("keepAliveTime"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n     "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("threadFactory "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" threadFactory"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n     "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("handler "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" handler"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br")])]),n("h2",{attrs:{id:"线程池中定义了四种饱和策略-拒绝策略"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#线程池中定义了四种饱和策略-拒绝策略"}},[s._v("#")]),s._v(" 线程池中定义了四种饱和策略 (拒绝策略)")]),s._v(" "),n("h3",{attrs:{id:"_1、callerrunspolicy"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1、callerrunspolicy"}},[s._v("#")]),s._v(" 1、CallerRunsPolicy")]),s._v(" "),n("p",[s._v("绕过线程池，直接执行线程的 run 方法")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CallerRunsPolicy")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("implements")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RejectedExecutionHandler")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CallerRunsPolicy")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//使用主线程执行新任务")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rejectedExecution")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Runnable")]),s._v(" r"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ThreadPoolExecutor")]),s._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("isShutdown")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//此方法相同于同步方法")]),s._v("\n   r"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("h3",{attrs:{id:"_2、-abortpolicy-线程池默认的策略"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2、-abortpolicy-线程池默认的策略"}},[s._v("#")]),s._v(" 2、 AbortPolicy(线程池默认的策略)")]),s._v(" "),n("p",[s._v("抛出 RejectedExecutionException 来拒绝新任务的处理")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AbortPolicy")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("implements")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RejectedExecutionHandler")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AbortPolicy")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rejectedExecution")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Runnable")]),s._v(" r"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ThreadPoolExecutor")]),s._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throw")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RejectedExecutionException")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Task "')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" r"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("toString")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('" rejected from "')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("toString")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h3",{attrs:{id:"_3、discardpolicy"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3、discardpolicy"}},[s._v("#")]),s._v(" 3、DiscardPolicy")]),s._v(" "),n("p",[s._v("不执行任何操作，丢弃新任务")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("DiscardPolicy")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("implements")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RejectedExecutionHandler")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("DiscardPolicy")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rejectedExecution")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Runnable")]),s._v(" r"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ThreadPoolExecutor")]),s._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h3",{attrs:{id:"_4、discardoldestpolicy"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4、discardoldestpolicy"}},[s._v("#")]),s._v(" 4、DiscardOldestPolicy")]),s._v(" "),n("p",[s._v("此策略将丢弃最早的未处理的任务")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("DiscardOldestPolicy")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("implements")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RejectedExecutionHandler")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("DiscardOldestPolicy")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rejectedExecution")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Runnable")]),s._v(" r"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ThreadPoolExecutor")]),s._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("isShutdown")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n   e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getQueue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("poll")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n   e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("execute")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("r"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("h2",{attrs:{id:"_3、阻塞队列"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3、阻塞队列"}},[s._v("#")]),s._v(" 3、阻塞队列")]),s._v(" "),n("p",[s._v("咱们看下"),n("code",[s._v("ThreadPoolExecutor")]),s._v("的源码：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("public static ExecutorService newFixedThreadPool(int nThreads) {\n return new ThreadPoolExecutor(nThreads, nThreads,0L, TimeUnit.MILLISECONDS,\n  new LinkedBlockingQueue<Runnable>());\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("使用的是 LinkedBlockingQueue 作为阻塞队列，LinkedBlockingQueue 的默认构造函数允许的队列长度是 Integer.MAX_VALUE，若堆积大量的请求，可能会造成 OOM。")]),s._v(" "),n("p",[s._v("此处就是为什么《阿里巴巴 Java 开发手册》中不推荐使用 Executors 工具类创建线程池的原因，要求使用 ThreadPoolExecutor 构造函数的方式，让写的同学更加明确线程池的运行规则，规避资源耗尽的风险。")]),s._v(" "),n("h2",{attrs:{id:"_4、execute-方法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4、execute-方法"}},[s._v("#")]),s._v(" 4、execute 方法")]),s._v(" "),n("p",[s._v("下面是执行流程图：")]),s._v(" "),n("p",[n("img",{attrs:{src:a(493),alt:"",loading:"lazy"}})]),s._v(" "),n("p",[s._v("Java.util.concurrent.ThreadPoolExecutor.execute")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ThreadPoolExecutor")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AbstractExecutorService")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AtomicInteger")]),s._v(" ctl "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AtomicInteger")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ctlOf")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("RUNNING"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("workerCountOf")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" c "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v(" CAPACITY"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//任务队列")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BlockingQueue")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Runnable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" workQueue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("execute")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Runnable")]),s._v(" command"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//如果任务为null,则抛出异常")]),s._v("\n     "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("command "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throw")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("NullPointerException")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n     "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//获取线程池状态和有效线程数")]),s._v("\n     "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" c "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" ctl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n     "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//以下有3步：")]),s._v("\n     "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//步骤1：")]),s._v("\n     "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//如果线程池工作的线程小于核心线程数")]),s._v("\n     "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("workerCountOf")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" corePoolSize"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//则增加一个线程，并把该任务交给它去执行")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("addWorker")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("command"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n       "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//成功则返回")]),s._v("\n       "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//这里说明创建核心线程失败，需要再次获取临时变量c")]),s._v("\n      c "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" ctl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n     "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//步骤2：")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 走到这里说明创建新的核心线程失败，也就是当前工作线程数大于等于corePoolSize")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 线程池的运行状态是RUNNING，并且尝试将新任务加入到阻塞队列，成功返回true")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("isRunning")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" workQueue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("offer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("command"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//进入到这里，是已经向任务队列投放任务成功")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//再次获取线程池状态和有效线程数")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" recheck "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" ctl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//如果线程池状态不是RUNNING（线程池异常终止了）,将线程从工作队列中移除")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("isRunning")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("recheck"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("remove")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("command"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//执行饱和策略")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("reject")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("command"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 走到这里说明线程池状态可能是RUNNING")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 也可能是移除线程任务失败了（失败的最大的可能是已经执行完毕了）")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//因为所有存活的工作线程有可能在最后一次检查之后已经终结,所以需要二次检查线程池工作线程的状态")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//这里博主也是看了半天，大家好好体会下")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("workerCountOf")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("recheck"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//若当前线程池工作线程数为0，则新建一个线程并执行")]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("addWorker")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//步骤3：")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 如果任务队列已满，就需要创建非核心线程")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 如果新建非核心线程失败，则执行饱和策略")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("addWorker")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("command"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("reject")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("command"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);